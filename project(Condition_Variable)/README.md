# 讀者-寫者問題實習作業

## 概述

本作業基於作業系統課程中的條件變數（Condition Variables）概念，實作經典的**讀者-寫者問題**。這是一個重要的同步問題，在多執行緒程式設計中經常遇到。

## 問題描述

讀者-寫者問題是一個經典的同步問題，涉及多個執行緒對共享資源的並行存取：

- **讀者**：只讀取共享資料，多個讀者可以同時存取
- **寫者**：修改共享資料，寫者必須獨占存取（與其他讀者和寫者互斥）

## 同步規則

1. 多個讀者可以同時讀取資料
2. 寫者必須獨占存取資料（同一時間只能有一個寫者）
3. 讀者和寫者不能同時存取資料
4. 防止饑餓現象（starvation）- 確保所有執行緒最終都能取得資源

## 檔案結構

```
CV/
├── README.md              # 本檔案
├── assignment.md          # 詳細作業要求
├── reader_writer.h        # 標頭檔案
├── reader_writer.c        # 主程式實作
├── test_reader_writer.c   # 測試程式
└── Makefile              # 編譯腳本
```

## 編譯與執行

### 編譯程式
```bash
make
```

### 執行測試
```bash
make test
```

### 清理編譯檔案
```bash
make clean
```

## 學習目標

通過完成此作業，您將學習到：

1. 條件變數的正確使用方法
2. 互斥鎖與條件變數的協同工作
3. 避免競爭條件（race condition）和死鎖（deadlock）
4. 多執行緒程式設計的最佳實踐
5. 經典同步問題的解決策略

## 實作重點

- 使用 `pthread_mutex_t` 保護共享資源
- 使用 `pthread_cond_t` 實現條件等待和通知
- 使用適當的狀態變數追蹤讀者和寫者的數量
- 實現公平的調度策略，避免饑餓現象

## 注意事項

1. 必須使用條件變數實現同步，不可使用忙等待（busy waiting）
2. 程式必須能正確處理多執行緒並發存取
3. 必須包含適當的錯誤處理
4. 程式碼必須有清楚的註解說明
